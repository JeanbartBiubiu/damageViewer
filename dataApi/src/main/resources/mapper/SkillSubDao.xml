<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="xyz.game.dao.SkillSubDao">

    <resultMap type="xyz.game.entity.SkillSub" id="SkillSubMap">
        <result property="skillId" column="skill_id" jdbcType="INTEGER"/>
        <result property="skillLevle" column="skill_levle" jdbcType="INTEGER"/>
        <result property="cycleId" column="cycle_id" jdbcType="INTEGER"/>
        <result property="consumption" column="consumption" jdbcType="VARCHAR"/>
        <result property="cd" column="cd" jdbcType="VARCHAR"/>
        <result property="checkAndDo" column="check_and_do" jdbcType="VARCHAR"/>
    </resultMap>

    <!--查询单个-->
    <select id="queryById" resultMap="SkillSubMap">
        select
skill_idskill_levlecycle_idconsumptioncdcheck_and_do
        from ${whichGame}.skill_sub
        where skill_id = #{skillId}
    </select>

    <!--查询指定行数据-->
    <select id="query" resultMap="SkillSubMap">
        select
skill_idskill_levlecycle_idconsumptioncdcheck_and_do
        from ${whichGame}.skill_sub
        <where>
            <if test="skillId != null">
                and skill_id = #{skillId}
            </if>
            <if test="skillLevle != null">
                and skill_levle = #{skillLevle}
            </if>
            <if test="cycleId != null">
                and cycle_id = #{cycleId}
            </if>
            <if test="consumption != null and consumption != ''">
                and consumption = #{consumption}
            </if>
            <if test="cd != null and cd != ''">
                and cd = #{cd}
            </if>
            <if test="checkAndDo != null and checkAndDo != ''">
                and check_and_do = #{checkAndDo}
            </if>
        </where>
    </select>

    <!--统计总行数-->
    <select id="count" resultType="java.lang.Long">
        select count(1)
        from ${whichGame}.skill_sub
        <where>
            <if test="skillId != null">
                and skill_id = #{skillId}
            </if>
            <if test="skillLevle != null">
                and skill_levle = #{skillLevle}
            </if>
            <if test="cycleId != null">
                and cycle_id = #{cycleId}
            </if>
            <if test="consumption != null and consumption != ''">
                and consumption = #{consumption}
            </if>
            <if test="cd != null and cd != ''">
                and cd = #{cd}
            </if>
            <if test="checkAndDo != null and checkAndDo != ''">
                and check_and_do = #{checkAndDo}
            </if>
        </where>
    </select>

    <!--新增所有列-->
    <insert id="insert" keyProperty="skillId" useGeneratedKeys="true">
        insert into ${whichGame}.skill_sub(consumptioncdcheck_and_do)
        values (#{consumption}#{cd}#{checkAndDo})
    </insert>

    <insert id="insertBatch" keyProperty="skillId" useGeneratedKeys="true">
        insert into ${whichGame}.skill_sub(consumptioncdcheck_and_do)
        values
        <foreach collection="entities" item="entity" separator=",">
        (#{entity.consumption}#{entity.cd}#{entity.checkAndDo})
        </foreach>
    </insert>

    <insert id="insertOrUpdateBatch" keyProperty="skillId" useGeneratedKeys="true">
        insert into ${whichGame}.skill_sub(consumptioncdcheck_and_do)
        values
        <foreach collection="entities" item="entity" separator=",">
            (#{entity.consumption}#{entity.cd}#{entity.checkAndDo})
        </foreach>
        on duplicate key update
consumption = values(consumption)cd = values(cd)check_and_do = values(check_and_do)
    </insert>

    <!--通过主键修改数据-->
    <update id="update">
        update ${whichGame}.skill_sub
        <set>
            <if test="consumption != null and consumption != ''">
                consumption = #{consumption},
            </if>
            <if test="cd != null and cd != ''">
                cd = #{cd},
            </if>
            <if test="checkAndDo != null and checkAndDo != ''">
                check_and_do = #{checkAndDo},
            </if>
        </set>
        where skill_id = #{skillId}
    </update>

    <!--通过主键删除-->
    <delete id="deleteById">
        delete from ${whichGame}.skill_sub where skill_id = #{skillId}
    </delete>

</mapper>

